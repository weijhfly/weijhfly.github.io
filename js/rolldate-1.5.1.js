/*!
 * Rolldate 1.5.1
 * Copyright 2018 雾空
 * https://github.com/weijhfly/rolldate
 * Licensed under MIT
 * Released on: aug 4, 2018
 */
!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.rolldate=o():t.rolldate=o()}(window,function(){return function(t){var o={};function i(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=o,i.d=function(t,o,e){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var s in t)i.d(e,s,function(o){return t[o]}.bind(null,s));return e},i.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="",i(i.s=0)}([function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.version=o.Date=void 0;var e=function(){function t(t,o){for(var i=0;i<o.length;i++){var e=o[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(o,i,e){return i&&t(o.prototype,i),e&&t(o,e),o}}();i(3);var s,r=i(1),n=(s=r)&&s.__esModule?s:{default:s};var l=i(2),a=n.default.iScroll;o.Date=function(){function t(o){if(function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t),o&&o.el){var i=this,e=i.$(o.el)[0];if(e&&!e.rolldate&&(e.rolldate=!0,i.extend(o),e.addEventListener("click",function(){if(!i.$(".rolldate-container")[0]){if("INPUT"==e.nodeName&&e.blur(),i.config.tapBefore&&!1===i.config.tapBefore.call(i,e))return!1;i.createUi()}}),o.value)){"INPUT"==e.nodeName?e.value=o.value:e.innerText=o.value;var s=o.value.replace(/-/g,"/").replace(/[^\d\/:\s]/g,""),r=new window.Date(s);"Invalid Date"==r?console.error("无效的日期："+s):e.date=r}}}return e(t,[{key:"baseData",value:function(){return{date:new window.Date,emptyli:"<li>&nbsp;</li>",dateFormat:["YYYY-MM","YYYY-MM-DD","YYYY-MM-DD hh:mm","YYYY-MM-DD hh:mm:ss","YYYY","MM","DD","hh:mm","hh:mm:ss"],domClass:["rolldate-year","rolldate-month","rolldate-day","rolldate-hour","rolldate-min","rolldate-sec"],opts:{el:"",format:"YYYY-MM-DD",beginYear:2e3,endYear:2100,theme:"",scrollTime:200,tapBefore:null,moveEnd:null,confirmBefore:null,confirmEnd:null,liHeight:40,minStep:1}}}},{key:"extend",value:function(t){var o=this.baseData().opts;for(var i in o)o[i]=0===t[i]?0:t[i]||o[i];this.config=o}},{key:"createUi",value:function(){for(var t=this,o=t.baseData(),i=o.dateFormat.indexOf(t.config.format),e=5==(i=i>1?i+1:i)?[o.domClass[0]]:6==i?[o.domClass[1]]:7==i?[o.domClass[2]]:8==i?o.domClass.slice(3,5):9==i?o.domClass.slice(3):o.domClass.slice(0,i+2),s=e.length,r="",n=t.$(t.config.el)[0],l=n.date?n.date:o.date,h=0;h<s;h++){if(r+='<div id="'+e[h]+'"><ul>'+o.emptyli,0==h&&i<6)for(var c=t.config.beginYear;c<=t.config.endYear;c++)r+="<li"+(c==l.getFullYear()?' class="active"':"")+">"+c+"年</li>";else if((1==h||6==i)&&i<7)for(var p=1;p<=12;p++)r+="<li"+(p==l.getMonth()+1?' class="active"':"")+">"+(p<10?"0"+p:p)+"月</li>";else if((2==h||7==i)&&i<=7)for(var d=t.bissextile(l.getFullYear(),l.getMonth()+1),m=1;m<=d;m++)r+="<li"+(m==l.getDate()?' class="active"':"")+">"+(m<10?"0"+m:m)+"日</li>";else if(3==h||i>7&&0==h)for(var u=0;u<=23;u++)r+="<li"+(u==l.getHours()?' class="active"':"")+">"+(u<10?"0"+u:u)+"时</li>";else if(4==h||i>7&&1==h)for(var f=0;f<=59;f+=t.config.minStep)r+="<li"+(f==l.getMinutes()?' class="active"':"")+">"+(f<10?"0"+f:f)+"分</li>";else if(5==h||i>7&&2==h)for(var b=0;b<=59;b++)r+="<li"+(b==l.getSeconds()?' class="active"':"")+">"+(b<10?"0"+b:b)+"秒</li>";r+=o.emptyli+"</ul></div>"}var S='<div class="rolldate-mask"></div>\n            <div class="rolldate-wrapper">\n                <header>选择日期</header>\n                <section class="rolldate-content">\n                    <div class="rolldate-frame">'+r+'</div>\n                </section>\n                <footer>\n                    <button class="rolldate-btn rolldate-cancel">取消</button>\n                    <button class="rolldate-btn rolldate-confirm">确定</button>\n                </footer>\n            </div>',g=document.createElement("div"),v=0==i||8==i?"rolldate-two":3==i?"rolldate-five":4==i?"rolldate-six":i>=5&&i<=7?"rolldate-one":"",y=!1;g.className="rolldate-container "+v,g.innerHTML=S,document.body.appendChild(g),t.setTheme(),t.iscroll=[],t.config.liHeight=document.querySelector(".rolldate-frame li").offsetHeight;for(var x=0;x<s;x++){t.iscroll[x]=new a(e[x],{snap:"li",vScrollbar:!1,hScroll:!1,checkDOMChanges:2==x,onScrollEnd:function(){if(y){var i=t.config.liHeight;if(0!==Math.abs(this.y%i))return this.scrollTo(0,-Math.round(Math.abs(this.y)/i)*i,0,!1),!1;if(t.config.moveEnd&&t.config.moveEnd.call(t,t.$(t.config.el)[0],this),-1!=o.domClass.slice(0,2).indexOf(this.wrapper.id)&&t.iscroll[2]){var e=t.getIscrollDay(t.iscroll[2]),s=t.bissextile(t.getIscrollDay(t.iscroll[0]),t.getIscrollDay(t.iscroll[1])),r="";if(s+2!=t.$("#"+o.domClass[2]+" li").length){for(var n=1;n<=s;n++)r+="<li>"+(n<10?"0"+n:n)+"日</li>";r=o.emptyli+r+o.emptyli,t.$("#"+o.domClass[2]+" ul")[0].innerHTML=r,e>s&&t.iscroll[2].scrollToElement(t.$("#"+o.domClass[2]+" li")[s-1])}}}}});var w=t.$("#"+e[x]+" .active")[0];w&&t.iscroll[x].scrollToElement(w.previousSibling,t.config.scrollTime)}t.event(),document.body.style.overflow="hidden",setTimeout(function(){y=!0},1e3)}},{key:"$",value:function(t){return"string"!=typeof t&&t.nodeType?[t]:document.querySelectorAll(t)}},{key:"event",value:function(){var t=this,o=t.$(".rolldate-mask")[0],i=t.$(".rolldate-cancel")[0],e=t.$(".rolldate-confirm")[0];o.addEventListener("click",function(){t.destroy(!0)}),i.addEventListener("click",function(){t.destroy(!0)}),e.addEventListener("click",function(){var o=t.$(t.config.el)[0],i=t.baseData(),e=t.config.format,s=new window.Date,r=i.dateFormat.indexOf(e);if(t.iscroll.forEach(function(o,i){var n=t.getIscrollDay(o),l=void 0;r<=4?l=0==i?"YYYY":1==i?"MM":2==i?"DD":3==i?"hh":4==i?"mm":"ss":5==r?l="MM":6==r?l="DD":7==r?l=0==i?"hh":1==i?"mm":"":8==r&&(l=0==i?"hh":1==i?"mm":"ss"),e=e.replace(l,n),"YYYY"==l?s.setFullYear(n):"MM"==l?s.setMonth(n-1):"DD"==l?s.setDate(n):"hh"==l?s.setHours(n):"mm"==l?s.setMinutes(n):"ss"==l&&s.setSeconds(n)}),t.config.confirmBefore){var n=t.config.confirmBefore.call(t,o,e);if(!1===n)return t.config.confirmEnd&&t.config.confirmEnd.call(t,o,e),!1;n&&(e=n)}"INPUT"==o.nodeName?o.value=e:o.innerText=e,t.config.confirmEnd&&t.config.confirmEnd.call(t,o,e),t.destroy(),o.date=s});var s=t.config.liHeight;t.config.queryStyle=function(){window.removeEventListener("resize",t.config.queryStyle),setTimeout(function(){t.$(".rolldate-container")[0]&&s!=document.querySelector(".rolldate-frame li").offsetHeight&&t.destroy(!0)},0)},window.addEventListener("resize",t.config.queryStyle,!1)}},{key:"bissextile",value:function(t,o){var i=void 0;return 1==o||3==o||5==o||7==o||8==o||10==o||12==o?i=31:4==o||6==o||11==o||9==o?i=30:2==o&&(i=t%4!=0||t%100==0&&t%400!=0?28:29),i}},{key:"destroy",value:function(t){if(this.iscroll.forEach(function(t,o){t.destroy()}),document.body.removeChild(this.$(".rolldate-container")[0]),t&&this.config.confirmEnd){var o=this.$(this.config.el)[0];this.config.confirmEnd.call(this,o)}this.config.queryStyle&&window.removeEventListener("resize",this.config.queryStyle,!1),document.body.style.overflow="visible"}},{key:"getIscrollDay",value:function(t){var o=this.config.liHeight,i=0!==Math.abs(t.y%o)?Math.round(Math.abs(t.y)/o)+1:Math.abs(t.y)/o+1;return this.$("#"+t.wrapper.id+" li")[i].innerText.replace(/\D/g,"")}},{key:"setTheme",value:function(){var t=this.config.theme,o={blue:"#16a1d3",red:"#d91600",green:"#009688",black:"#393D49"},i=this.$(".rolldate-container header")[0],e=this.$(".rolldate-container .rolldate-confirm")[0];t&&(i.style.background=e.style.background=o[t]?o[t]:t)}}]),t}(),o.version=l.version},function(t,o,i){var e,s,r,n,l,a,h,c,p,d,m,u,f,b,S,g,v,y,x,w,T,Y;e=Math,s=function(t){return t>>0},r=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",n=/android/gi.test(navigator.appVersion),l=/iphone|ipad/gi.test(navigator.appVersion),a=/playbook/gi.test(navigator.appVersion),h=/hp-tablet/gi.test(navigator.appVersion),c="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,p="ontouchstart"in window&&!h,d=r+"Transform"in document.documentElement.style,m=l||a,u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1)},f=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,b="onorientationchange"in window?"orientationchange":"resize",S=p?"touchstart":"mousedown",g=p?"touchmove":"mousemove",v=p?"touchend":"mouseup",y=p?"touchcancel":"mouseup",x="Moz"==r?"DOMMouseScroll":"mousewheel",w="translate"+(c?"3d(":"("),T=c?",0)":")",(Y=function(t,o){var i,e=this,s=document;for(i in e.wrapper="object"==typeof t?t:s.getElementById(t),e.wrapper.style.overflow="hidden",e.scroller=e.wrapper.children[0],e.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:n,hideScrollbar:l,fadeScrollbar:l&&c,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null},o)e.options[i]=o[i];e.x=e.options.x,e.y=e.options.y,e.options.useTransform=!!d&&e.options.useTransform,e.options.hScrollbar=e.options.hScroll&&e.options.hScrollbar,e.options.vScrollbar=e.options.vScroll&&e.options.vScrollbar,e.options.zoom=e.options.useTransform&&e.options.zoom,e.options.useTransition=m&&e.options.useTransition,e.options.zoom&&n&&(w="translate(",T=")"),e.scroller.style[r+"TransitionProperty"]=e.options.useTransform?"-"+r.toLowerCase()+"-transform":"top left",e.scroller.style[r+"TransitionDuration"]="0",e.scroller.style[r+"TransformOrigin"]="0 0",e.options.useTransition&&(e.scroller.style[r+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)"),e.options.useTransform?e.scroller.style[r+"Transform"]=w+e.x+"px,"+e.y+"px"+T:e.scroller.style.cssText+=";position:absolute;top:"+e.y+"px;left:"+e.x+"px",e.options.useTransition&&(e.options.fixedScrollbar=!0),e.refresh(),e._bind(b,window),e._bind(S),p||(e._bind("mouseout",e.wrapper),"none"!=e.options.wheelAction&&e._bind(x)),e.options.checkDOMChanges&&(e.checkDOMTime=setInterval(function(){e._checkDOMChanges()},500))}).prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){switch(t.type){case S:if(!p&&0!==t.button)return;this._start(t);break;case g:this._move(t);break;case v:case y:this._end(t);break;case b:this._resize();break;case x:this._wheel(t);break;case"mouseout":this._mouseout(t);break;case"webkitTransitionEnd":this._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(t){var o,i=document;this[t+"Scrollbar"]?(this[t+"ScrollbarWrapper"]||(o=i.createElement("div"),this.options.scrollbarClass?o.className=this.options.scrollbarClass+t.toUpperCase():o.style.cssText="position:absolute;z-index:100;"+("h"==t?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),o.style.cssText+=";pointer-events:none;-"+r+"-transition-property:opacity;-"+r+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(o),this[t+"ScrollbarWrapper"]=o,o=i.createElement("div"),this.options.scrollbarClass||(o.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+r+"-background-clip:padding-box;-"+r+"-box-sizing:border-box;"+("h"==t?"height:100%":"width:100%")+";-"+r+"-border-radius:3px;border-radius:3px"),o.style.cssText+=";pointer-events:none;-"+r+"-transition-property:-"+r+"-transform;-"+r+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+r+"-transition-duration:0;-"+r+"-transform:"+w+"0,0"+T,this.options.useTransition&&(o.style.cssText+=";-"+r+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[t+"ScrollbarWrapper"].appendChild(o),this[t+"ScrollbarIndicator"]=o),"h"==t?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=e.max(s(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=e.max(s(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(t,!0)):this[t+"ScrollbarWrapper"]&&(d&&(this[t+"ScrollbarIndicator"].style[r+"Transform"]=""),this[t+"ScrollbarWrapper"].parentNode.removeChild(this[t+"ScrollbarWrapper"]),this[t+"ScrollbarWrapper"]=null,this[t+"ScrollbarIndicator"]=null)},_resize:function(){var t=this;setTimeout(function(){t.refresh()},n?200:0)},_pos:function(t,o){t=this.hScroll?t:0,o=this.vScroll?o:0,this.options.useTransform?this.scroller.style[r+"Transform"]=w+t+"px,"+o+"px"+T+" scale("+this.scale+")":(t=s(t),o=s(o),this.scroller.style.left=t+"px",this.scroller.style.top=o+"px"),this.x=t,this.y=o,this._scrollbarPos("h"),this._scrollbarPos("v")},_scrollbarPos:function(t,o){var i,e="h"==t?this.x:this.y;this[t+"Scrollbar"]&&((e=this[t+"ScrollbarProp"]*e)<0?(this.options.fixedScrollbar||((i=this[t+"ScrollbarIndicatorSize"]+s(3*e))<8&&(i=8),this[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px"),e=0):e>this[t+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?e=this[t+"ScrollbarMaxScroll"]:((i=this[t+"ScrollbarIndicatorSize"]-s(3*(e-this[t+"ScrollbarMaxScroll"])))<8&&(i=8),this[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=i+"px",e=this[t+"ScrollbarMaxScroll"]+(this[t+"ScrollbarIndicatorSize"]-i))),this[t+"ScrollbarWrapper"].style[r+"TransitionDelay"]="0",this[t+"ScrollbarWrapper"].style.opacity=o&&this.options.hideScrollbar?"0":"1",this[t+"ScrollbarIndicator"].style[r+"Transform"]=w+("h"==t?e+"px,0":"0,"+e+"px")+T)},_start:function(t){var o,i,s,n,l,a=p?t.touches[0]:t;this.enabled&&(this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,t),(this.options.useTransition||this.options.zoom)&&this._transitionTime(0),this.moved=!1,this.animating=!1,this.zoomed=!1,this.distX=0,this.distY=0,this.absDistX=0,this.absDistY=0,this.dirX=0,this.dirY=0,this.options.zoom&&p&&t.touches.length>1&&(n=e.abs(t.touches[0].pageX-t.touches[1].pageX),l=e.abs(t.touches[0].pageY-t.touches[1].pageY),this.touchesDistStart=e.sqrt(n*n+l*l),this.originX=e.abs(t.touches[0].pageX+t.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=e.abs(t.touches[0].pageY+t.touches[1].pageY-2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,t)),this.options.momentum&&(this.options.useTransform?(i=1*(o=getComputedStyle(this.scroller,null)[r+"Transform"].replace(/[^0-9-.,]/g,"").split(","))[4],s=1*o[5]):(i=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),s=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),i==this.x&&s==this.y||(this.options.useTransition?this._unbind("webkitTransitionEnd"):f(this.aniTime),this.steps=[],this._pos(i,s))),this.absStartX=this.x,this.absStartY=this.y,this.startX=this.x,this.startY=this.y,this.pointX=a.pageX,this.pointY=a.pageY,this.startTime=t.timeStamp||Date.now(),this.options.onScrollStart&&this.options.onScrollStart.call(this,t),this._bind(g),this._bind(v),this._bind(y))},_move:function(t){var o,i,s,n=p?t.touches[0]:t,l=n.pageX-this.pointX,a=n.pageY-this.pointY,h=this.x+l,c=this.y+a,d=t.timeStamp||Date.now();return this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,t),this.options.zoom&&p&&t.touches.length>1?(o=e.abs(t.touches[0].pageX-t.touches[1].pageX),i=e.abs(t.touches[0].pageY-t.touches[1].pageY),this.touchesDist=e.sqrt(o*o+i*i),this.zoomed=!0,(s=1/this.touchesDistStart*this.touchesDist*this.scale)<this.options.zoomMin?s=.5*this.options.zoomMin*Math.pow(2,s/this.options.zoomMin):s>this.options.zoomMax&&(s=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/s)),this.lastScale=s/this.scale,h=this.originX-this.originX*this.lastScale+this.x,c=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[r+"Transform"]=w+h+"px,"+c+"px"+T+" scale("+s+")",void(this.options.onZoom&&this.options.onZoom.call(this,t))):(this.pointX=n.pageX,this.pointY=n.pageY,(h>0||h<this.maxScrollX)&&(h=this.options.bounce?this.x+l/2:h>=0||this.maxScrollX>=0?0:this.maxScrollX),(c>this.minScrollY||c<this.maxScrollY)&&(c=this.options.bounce?this.y+a/2:c>=this.minScrollY||this.maxScrollY>=0?this.minScrollY:this.maxScrollY),this.absDistX<6&&this.absDistY<6?(this.distX+=l,this.distY+=a,this.absDistX=e.abs(this.distX),void(this.absDistY=e.abs(this.distY))):(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(c=this.y,a=0):this.absDistY>this.absDistX+5&&(h=this.x,l=0)),this.moved=!0,this._pos(h,c),this.dirX=l>0?-1:l<0?1:0,this.dirY=a>0?-1:a<0?1:0,d-this.startTime>300&&(this.startTime=d,this.startX=this.x,this.startY=this.y),void(this.options.onScrollMove&&this.options.onScrollMove.call(this,t))))},_end:function(t){if(!p||0==t.touches.length){var o,i,n,l,a,h,c,d=this,m=p?t.changedTouches[0]:t,u={dist:0,time:0},f={dist:0,time:0},b=(t.timeStamp||Date.now())-d.startTime,S=d.x,x=d.y;if(d._unbind(g),d._unbind(v),d._unbind(y),d.options.onBeforeScrollEnd&&d.options.onBeforeScrollEnd.call(d,t),d.zoomed)return c=d.scale*d.lastScale,c=Math.max(d.options.zoomMin,c),c=Math.min(d.options.zoomMax,c),d.lastScale=c/d.scale,d.scale=c,d.x=d.originX-d.originX*d.lastScale+d.x,d.y=d.originY-d.originY*d.lastScale+d.y,d.scroller.style[r+"TransitionDuration"]="200ms",d.scroller.style[r+"Transform"]=w+d.x+"px,"+d.y+"px"+T+" scale("+d.scale+")",d.zoomed=!1,d.refresh(),void(d.options.onZoomEnd&&d.options.onZoomEnd.call(d,t));if(!d.moved)return p&&(d.doubleTapTimer&&d.options.zoom?(clearTimeout(d.doubleTapTimer),d.doubleTapTimer=null,d.options.onZoomStart&&d.options.onZoomStart.call(d,t),d.zoom(d.pointX,d.pointY,1==d.scale?d.options.doubleTapZoom:1),d.options.onZoomEnd&&setTimeout(function(){d.options.onZoomEnd.call(d,t)},200)):d.doubleTapTimer=setTimeout(function(){for(d.doubleTapTimer=null,o=m.target;1!=o.nodeType;)o=o.parentNode;"SELECT"!=o.tagName&&"INPUT"!=o.tagName&&"TEXTAREA"!=o.tagName&&((i=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,t.view,1,m.screenX,m.screenY,m.clientX,m.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._fake=!0,o.dispatchEvent(i))},d.options.zoom?250:0)),d._resetPos(200),void(d.options.onTouchEnd&&d.options.onTouchEnd.call(d,t));if(b<300&&d.options.momentum&&(u=S?d._momentum(S-d.startX,b,-d.x,d.scrollerW-d.wrapperW+d.x,d.options.bounce?d.wrapperW:0):u,f=x?d._momentum(x-d.startY,b,-d.y,d.maxScrollY<0?d.scrollerH-d.wrapperH+d.y-d.minScrollY:0,d.options.bounce?d.wrapperH:0):f,S=d.x+u.dist,x=d.y+f.dist,(d.x>0&&S>0||d.x<d.maxScrollX&&S<d.maxScrollX)&&(u={dist:0,time:0}),(d.y>d.minScrollY&&x>d.minScrollY||d.y<d.maxScrollY&&x<d.maxScrollY)&&(f={dist:0,time:0})),u.dist||f.dist)return a=e.max(e.max(u.time,f.time),10),d.options.snap&&(n=S-d.absStartX,l=x-d.absStartY,e.abs(n)<d.options.snapThreshold&&e.abs(l)<d.options.snapThreshold?d.scrollTo(d.absStartX,d.absStartY,200):(S=(h=d._snap(S,x)).x,x=h.y,a=e.max(h.time,a))),d.scrollTo(s(S),s(x),a),void(d.options.onTouchEnd&&d.options.onTouchEnd.call(d,t));if(d.options.snap)return n=S-d.absStartX,l=x-d.absStartY,e.abs(n)<d.options.snapThreshold&&e.abs(l)<d.options.snapThreshold?d.scrollTo(d.absStartX,d.absStartY,200):(h=d._snap(d.x,d.y)).x==d.x&&h.y==d.y||d.scrollTo(h.x,h.y,h.time),void(d.options.onTouchEnd&&d.options.onTouchEnd.call(d,t));d._resetPos(200),d.options.onTouchEnd&&d.options.onTouchEnd.call(d,t)}},_resetPos:function(t){var o=this.x>=0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,i=this.y>=this.minScrollY||this.maxScrollY>0?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(o==this.x&&i==this.y)return this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==r&&(this.hScrollbarWrapper.style[r+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0"),void(this.vScrollbar&&this.options.hideScrollbar&&("webkit"==r&&(this.vScrollbarWrapper.style[r+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity="0"));this.scrollTo(o,i,t||0)},_wheel:function(t){var o,i,e,s,r,n=this;if("wheelDeltaX"in t?(o=t.wheelDeltaX/12,i=t.wheelDeltaY/12):o=i="detail"in t?3*-t.detail:-t.wheelDelta,"zoom"==n.options.wheelAction)return(r=n.scale*Math.pow(2,1/3*(i?i/Math.abs(i):0)))<n.options.zoomMin&&(r=n.options.zoomMin),r>n.options.zoomMax&&(r=n.options.zoomMax),void(r!=n.scale&&(!n.wheelZoomCount&&n.options.onZoomStart&&n.options.onZoomStart.call(n,t),n.wheelZoomCount++,n.zoom(t.pageX,t.pageY,r,400),setTimeout(function(){n.wheelZoomCount--,!n.wheelZoomCount&&n.options.onZoomEnd&&n.options.onZoomEnd.call(n,t)},400)));e=n.x+o,s=n.y+i,e>0?e=0:e<n.maxScrollX&&(e=n.maxScrollX),s>n.minScrollY?s=n.minScrollY:s<n.maxScrollY&&(s=n.maxScrollY),n.scrollTo(e,s,0)},_mouseout:function(t){var o=t.relatedTarget;if(o){for(;o=o.parentNode;)if(o==this.wrapper)return;this._end(t)}else this._end(t)},_transitionEnd:function(t){t.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var t,o,i,s=this,r=s.x,n=s.y,l=Date.now();if(!s.animating)if(s.steps.length){if((t=s.steps.shift()).x==r&&t.y==n&&(t.time=0),s.animating=!0,s.moved=!0,s.options.useTransition)return s._transitionTime(t.time),s._pos(t.x,t.y),s.animating=!1,void(t.time?s._bind("webkitTransitionEnd"):s._resetPos(0));(i=function(){var a,h,c=Date.now();if(c>=l+t.time)return s._pos(t.x,t.y),s.animating=!1,s.options.onAnimationEnd&&s.options.onAnimationEnd.call(s),void s._startAni();c=(c-l)/t.time-1,o=e.sqrt(1-c*c),a=(t.x-r)*o+r,h=(t.y-n)*o+n,s._pos(a,h),s.animating&&(s.aniTime=u(i))})()}else s._resetPos(400)},_transitionTime:function(t){t+="ms",this.scroller.style[r+"TransitionDuration"]=t,this.hScrollbar&&(this.hScrollbarIndicator.style[r+"TransitionDuration"]=t),this.vScrollbar&&(this.vScrollbarIndicator.style[r+"TransitionDuration"]=t)},_momentum:function(t,o,i,r,n){var l=e.abs(t)/o,a=l*l/.0012;return t>0&&a>i?(l=l*(i+=n/(6/(a/l*6e-4)))/a,a=i):t<0&&a>r&&(l=l*(r+=n/(6/(a/l*6e-4)))/a,a=r),{dist:a*=t<0?-1:1,time:s(l/6e-4)}},_offset:function(t){for(var o=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)o-=t.offsetLeft,i-=t.offsetTop;return t!=this.wrapper&&(o*=this.scale,i*=this.scale),{left:o,top:i}},_snap:function(t,o){var i,r,n,l,a;for(n=this.pagesX.length-1,i=0,r=this.pagesX.length;i<r;i++)if(t>=this.pagesX[i]){n=i;break}for(n==this.currPageX&&n>0&&this.dirX<0&&n--,t=this.pagesX[n],l=(l=e.abs(t-this.pagesX[this.currPageX]))?e.abs(this.x-t)/l*500:0,this.currPageX=n,n=this.pagesY.length-1,i=0;i<n;i++)if(o>=this.pagesY[i]){n=i;break}return n==this.currPageY&&n>0&&this.dirY<0&&n--,o=this.pagesY[n],a=(a=e.abs(o-this.pagesY[this.currPageY]))?e.abs(this.y-o)/a*500:0,this.currPageY=n,{x:t,y:o,time:s(e.max(l,a))||200}},_bind:function(t,o,i){(o||this.scroller).addEventListener(t,this,!!i)},_unbind:function(t,o,i){(o||this.scroller).removeEventListener(t,this,!!i)},destroy:function(){this.scroller.style[r+"Transform"]="",this.hScrollbar=!1,this.vScrollbar=!1,this._scrollbar("h"),this._scrollbar("v"),this._unbind(b,window),this._unbind(S),this._unbind(g),this._unbind(v),this._unbind(y),this.options.hasTouch||(this._unbind("mouseout",this.wrapper),this._unbind(x)),this.options.useTransition&&this._unbind("webkitTransitionEnd"),this.options.checkDOMChanges&&clearInterval(this.checkDOMTime),this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var t,o,i,e,n=0,l=0;if(this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.wrapperW=this.wrapper.clientWidth||1,this.wrapperH=this.wrapper.clientHeight||1,this.minScrollY=-this.options.topOffset||0,this.scrollerW=s(this.scroller.offsetWidth*this.scale),this.scrollerH=s((this.scroller.offsetHeight+this.minScrollY)*this.scale),this.maxScrollX=this.wrapperW-this.scrollerW,this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY,this.dirX=0,this.dirY=0,this.options.onRefresh&&this.options.onRefresh.call(this),this.hScroll=this.options.hScroll&&this.maxScrollX<0,this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH),this.hScrollbar=this.hScroll&&this.options.hScrollbar,this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH,t=this._offset(this.wrapper),this.wrapperOffsetLeft=-t.left,this.wrapperOffsetTop=-t.top,"string"==typeof this.options.snap)for(this.pagesX=[],this.pagesY=[],o=0,i=(e=this.scroller.querySelectorAll(this.options.snap)).length;o<i;o++)(n=this._offset(e[o])).left+=this.wrapperOffsetLeft,n.top+=this.wrapperOffsetTop,this.pagesX[o]=n.left<this.maxScrollX?this.maxScrollX:n.left*this.scale,this.pagesY[o]=n.top<this.maxScrollY?this.maxScrollY:n.top*this.scale;else if(this.options.snap){for(this.pagesX=[];n>=this.maxScrollX;)this.pagesX[l]=n,n-=this.wrapperW,l++;for(this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]),n=0,l=0,this.pagesY=[];n>=this.maxScrollY;)this.pagesY[l]=n,n-=this.wrapperH,l++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h"),this._scrollbar("v"),this.zoomed||(this.scroller.style[r+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(t,o,i,e){var s,r,n=t;for(this.stop(),n.length||(n=[{x:t,y:o,time:i,relative:e}]),s=0,r=n.length;s<r;s++)n[s].relative&&(n[s].x=this.x-n[s].x,n[s].y=this.y-n[s].y),this.steps.push({x:n[s].x,y:n[s].y,time:n[s].time||0});this._startAni()},scrollToElement:function(t,o){var i;(t=t.nodeType?t:this.scroller.querySelector(t))&&((i=this._offset(t)).left+=this.wrapperOffsetLeft,i.top+=this.wrapperOffsetTop,i.left=i.left>0?0:i.left<this.maxScrollX?this.maxScrollX:i.left,i.top=i.top>this.minScrollY?this.minScrollY:i.top<this.maxScrollY?this.maxScrollY:i.top,o=void 0===o?e.max(2*e.abs(i.left),2*e.abs(i.top)):o,this.scrollTo(i.left,i.top,o))},scrollToPage:function(t,o,i){var e,s;i=void 0===i?400:i,this.options.onScrollStart&&this.options.onScrollStart.call(this),this.options.snap?(t="next"==t?this.currPageX+1:"prev"==t?this.currPageX-1:t,o="next"==o?this.currPageY+1:"prev"==o?this.currPageY-1:o,t=t<0?0:t>this.pagesX.length-1?this.pagesX.length-1:t,o=o<0?0:o>this.pagesY.length-1?this.pagesY.length-1:o,this.currPageX=t,this.currPageY=o,e=this.pagesX[t],s=this.pagesY[o]):(e=-this.wrapperW*t,s=-this.wrapperH*o,e<this.maxScrollX&&(e=this.maxScrollX),s<this.maxScrollY&&(s=this.maxScrollY)),this.scrollTo(e,s,i)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(g),this._unbind(v),this._unbind(y)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):f(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(t,o,i,e){var s=i/this.scale;this.options.useTransform&&(this.zoomed=!0,e=void 0===e?200:e,t=t-this.wrapperOffsetLeft-this.x,o=o-this.wrapperOffsetTop-this.y,this.x=t-t*s+this.x,this.y=o-o*s+this.y,this.scale=i,this.refresh(),this.x=this.x>0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[r+"TransitionDuration"]=e+"ms",this.scroller.style[r+"Transform"]=w+this.x+"px,"+this.y+"px"+T+" scale("+i+")",this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},o.iScroll=Y},function(t){t.exports={name:"rolldate",version:"1.5.1",description:"rolldate 移动端日期选择插件",main:"dist/rolldate.min.js",scripts:{build:"cross-env NODE_ENV=production webpack --config config/rolldate.config.js --mode production","build-common":"cross-env NODE_ENV=production webpack --config config/common.config.js --mode production",dev:"cross-env NODE_ENV=development webpack-dev-server --config config/rolldate.config.js --mode development",start:"npm run build-common && npm run build"},keywords:["date","iscroll-date"],repository:{type:"git",url:"https://github.com/weijhfly/rolldate"},author:"雾空",license:"MIT",dependencies:{},devDependencies:{autoprefixer:"^9.0.1","babel-core":"^6.26.3","babel-loader":"^7.1.5","babel-preset-es2015":"^6.24.1","clean-webpack-plugin":"^0.1.19","cross-env":"^5.2.0","css-loader":"^1.0.0","extract-text-webpack-plugin":"^4.0.0-beta.0","html-webpack-plugin":"^3.2.0",less:"^3.8.0","less-loader":"^4.1.0","postcss-loader":"^2.1.6","style-loader":"^0.21.0",webpack:"^4.16.2","webpack-cli":"^3.1.0","webpack-dev-server":"^3.1.5"}}},function(t,o){}])});
